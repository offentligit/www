<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf8">
        <title>Offentlig IT</title>
        <!-- <link href="https://fonts.googleapis.com/css?family=Space+Mono" rel="stylesheet"> -->
        <style type="text/css">
            html {
                min-height: 100vh;
            }
            body {
                font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Helvetica Neue", Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
                color: white;
                background-color: #2f3640;
                margin-top: 10em;
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: center;
                margin: 0;
                min-height: 100vh;
                box-sizing: border-box;
            }
            body > * {
                /*border: 1px solid red;*/
                margin: 1.5em 0;
            }
            a {
              color: #DEDEDE;
            }
            header {
                padding: 2em 6px;
                text-align: center;
            }
            header h1 {
                font-family: 'Space Mono', monospace;
                font-weight: normal;
                font-size: 3em;
                margin: 0;
            }
            header h2 {
                font-weight: 200;
                margin: 0;
            }
            section.intro {
                max-width: 600px;
                font-size: 1.1em;
                padding: 0 6px;
            }
            input.error {
              border: 2px solid red;
              border-radius: 7px;
              padding: 5px;
            }
            section#postSignup {
                max-width: 600px;
                padding: 15px;
                background: #27ae60;
            }
            section#presignup {
                max-width: 600px;
                width: 100%;
                padding: 15px;
                background: rgba(255,255,255,0.2);
            }
        </style>
    </head>
    <body>
        <script type="text/javascript">
          var signupListener = () => {
            var fakeUser = "Offentlig IT støtte";
            var emailInput = document.getElementById("email");
            var email = emailInput.value;

            function validateEmail(email) {
              const re = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
              return re.test(email);
            }

            if (!validateEmail(email)) {
              emailInput.setAttribute("class", "error");
              return false;
            } else {
              emailInput.setAttribute("class", "");
            }

            var options = {
              method: "POST",
              body: "{\"name\":\""+fakeUser+"\",\"email\":\""+email+"\"}",
              mode: 'cors'
            };
            var url = "https://hype.offentlig-it.dk/api/campaign/c9ef308c-1069-4e2a-b300-1f13647d97df/subscriber";
            fetch(url, options).then(function(response) {
              document.getElementById("postSignup").style.display = "block";
              document.getElementById("preSignup").style.display = "none";
            });

            return false;
          };
        </script>
        <header>
            <h1>Offentlig IT</h1>
            <h2>Vores penge, vores software</h2>
        </header>
        <section class="intro">
            <p>
                IT-løsninger udviklet til den offentlige sektor bliver betalt af os, men kan ikke tilgås og bruges af befolkningen.
                Vi betaler alle dyrt for licenser og kuldsejlede IT systemer.
                Det er et problem.
                Men der findes også en løsning.
            </p>
            <p>
                <strong>Offentlig IT</strong> er et projekt, der sigter efter at tage ejerskabet af vores fælles software og infrastruktur tilbage.
                Vi mener at vi har krav på at eje det, vi køber.
            </p>
            <p>
                IT udviklet til det offentlige skal ejes af det offentlige.
                Så er vi ikke låst fast til en enkelt leverandør for hvert projekt, og kan nemmere og billigere lave forbedringer til vores systemer.
            </p>
        </section>
        <section id="preSignup">
          <form id="emailForm" onsubmit="return signupListener()">
            <label for="email">
              <p>Hvis du er interesseret i projektet, og gerne vil være en del af det – eller hvis du bare gerne vil høre mere, når der sker noget – så skriv dig op her.</p>
              <input id="email" name="email" value="" placeholder="Personlig e-mail" data-com.agilebits.onepassword.user-edited="yes" style="padding: 10px 5px;float: left;width: 60%;box-sizing: border-box;font-family: inherit;/*! border: none; */vertical-align: middle;margin-left: 5%;" type="text">
            </label>
            <button name="submit" style="float: left;width: 30%;box-sizing: border-box;padding: 10px 5px;font-family: inherit;vertical-align: middle;border: 1px solid #2980b9;background: #2980b9;color: white;margin-right: 5%;" type="submit">Tilmeld</button>
          </form>
        </section>
        <section id="postSignup" style="display: none">
          Tak fordi du skrev dig op.
          Du vil modtage en email for at bekræfte din tilmelding.
          Derefter sender vi dig en mail så snart kampagnen går i luften.
        </section>
    </body>
</html>
